{% extends "base.html" %}

{% block content %}
<div style="max-width: 600px; margin: 30px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; background-color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
    <h2 style="font-size: 28px; font-weight: 400; margin-bottom: 20px;">
        {% if form.instance.pk %}Editar Post: {{ form.instance.title }}{% else %}Crear Nuevo Post{% endif %}
    </h2>

    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        
        {% if form.non_field_errors %}
        <div style="background-color: #ffe0e0; border: 1px solid #ff9999; padding: 10px; border-radius: 4px; color: #cc0000; margin-bottom: 15px;">
            {{ form.non_field_errors }}
        </div>
        {% endif %}

        {% for field in form %}
            <div style="margin-bottom: 15px;">
                <label for="{{ field.id_for_label }}" style="display: block; font-weight: 600; margin-bottom: 5px;">{{ field.label }}</label>
                
                {{ field }} 

                {% if field.help_text %}
                    <small style="display: block; font-size: 12px; color: #777; margin-top: 5px;">{{ field.help_text|safe }}</small>
                {% endif %}
                {% if field.errors %}
                    <ul style="color: #cc0000; font-size: 13px; margin-top: 5px; list-style-type: none; padding-left: 0;">
                        {% for error in field.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
        {% endfor %}

        <button type="submit" style="width: 100%; padding: 10px; background-color: #ff9900; border: none; border-radius: 4px; color: #111; font-weight: bold; cursor: pointer; transition: background-color 0.2s; margin-top: 10px;">
            {% if form.instance.pk %}Guardar Cambios{% else %}Publicar Post{% endif %}
        </button>
    </form>
</div>
{% endblock %}